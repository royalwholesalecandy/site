require(["jquery","themepunchTools"],function(e,r){"use strict";function t(e,r){e.lastscrolltop=r}var a=jQuery.fn.revolution,i=a.is_mobile(),o={alias:"Parallax Min JS",name:"revolution.extensions.parallax.min.js",min_core:"5.4.5",version:"2.2.3"};jQuery.extend(!0,a,{checkForParallax:function(e,t){function l(e){if("3D"==s.type||"3d"==s.type){e.find(".slotholder").wrapAll('<div class="dddwrapper" style="width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden"></div>'),e.find(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layer" style="width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:5;overflow:'+s.ddd_layer_overflow+';"></div>'),e.find(".rs-parallaxlevel-tobggroup").closest(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layertobggroup" style="position:absolute;top:0px;left:0px;z-index:50;width:100%;height:100%"></div>');var a=e.find(".dddwrapper"),i=e.find(".dddwrapper-layer");e.find(".dddwrapper-layertobggroup").appendTo(a),"carousel"==t.sliderType&&("on"==s.ddd_shadow&&a.addClass("dddwrappershadow"),r.TweenLite.set(a,{borderRadius:t.carousel.border_radius})),r.TweenLite.set(e,{overflow:"visible",transformStyle:"preserve-3d",perspective:1600}),r.TweenLite.set(a,{force3D:"auto",transformOrigin:"50% 50%"}),r.TweenLite.set(i,{force3D:"auto",transformOrigin:"50% 50%",zIndex:5}),r.TweenLite.set(t.ul,{transformStyle:"preserve-3d",transformPerspective:1600})}}if("stop"===a.compare_version(o).check)return!1;var s=t.parallax;if(!s.done){if(s.done=!0,i&&"on"==s.disable_onmobile)return!1;"3D"!=s.type&&"3d"!=s.type||(r.TweenLite.set(t.c,{overflow:s.ddd_overflow}),r.TweenLite.set(t.ul,{overflow:s.ddd_overflow}),"carousel"!=t.sliderType&&"on"==s.ddd_shadow&&(t.c.prepend('<div class="dddwrappershadow"></div>'),r.TweenLite.set(t.c.find(".dddwrappershadow"),{force3D:"auto",transformPerspective:1600,transformOrigin:"50% 50%",width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:0}))),t.li.each(function(){l(jQuery(this))}),("3D"==s.type||"3d"==s.type)&&t.c.find(".tp-static-layers").length>0&&(r.TweenLite.set(t.c.find(".tp-static-layers"),{top:0,left:0,width:"100%",height:"100%"}),l(t.c.find(".tp-static-layers"))),s.pcontainers=new Array,s.pcontainer_depths=new Array,s.bgcontainers=new Array,s.bgcontainer_depths=new Array,t.c.find(".tp-revslider-slidesli .slotholder, .tp-revslider-slidesli .rs-background-video-layer").each(function(){var e=jQuery(this),r=e.data("bgparallax")||t.parallax.bgparallax;void 0!==(r="on"==r?1:r)&&"off"!==r&&(s.bgcontainers.push(e),s.bgcontainer_depths.push(t.parallax.levels[parseInt(r,0)-1]/100))});for(d=1;d<=s.levels.length;d++)t.c.find(".rs-parallaxlevel-"+d).each(function(){var e=jQuery(this).closest(".tp-parallax-wrap");e.data("parallaxlevel",s.levels[d-1]),e.addClass("tp-parallax-container"),s.pcontainers.push(e),s.pcontainer_depths.push(s.levels[d-1])});"mouse"!=s.type&&"scroll+mouse"!=s.type&&"mouse+scroll"!=s.type&&"3D"!=s.type&&"3d"!=s.type||(e.mouseenter(function(r){var t=e.find(".active-revslide"),a=e.offset().top,i=e.offset().left,o=r.pageX-i,l=r.pageY-a;t.data("enterx",o),t.data("entery",l)}),e.on("mousemove.hoverdir, mouseleave.hoverdir, trigger3dpath",function(a,i){var o=i&&i.li?i.li:e.find(".active-revslide");if("enterpoint"==s.origo){var l=e.offset().top,n=e.offset().left;void 0==o.data("enterx")&&o.data("enterx",a.pageX-n),void 0==o.data("entery")&&o.data("entery",a.pageY-l);var d=o.data("enterx")||a.pageX-n,p=o.data("entery")||a.pageY-l,c=d-(a.pageX-n),f=p-(a.pageY-l),w=s.speed/1e3||.4}else var l=e.offset().top,n=e.offset().left,c=t.conw/2-(a.pageX-n),f=t.conh/2-(a.pageY-l),w=s.speed/1e3||3;"mouseleave"==a.type&&(c=s.ddd_lasth||0,f=s.ddd_lastv||0,w=1.5);for(var v=0;v<s.pcontainers.length;v++){var u=s.pcontainers[v],h=s.pcontainer_depths[v],y="3D"==s.type||"3d"==s.type?h/200:h/100,g=c*y,b=f*y;"scroll+mouse"==s.type||"mouse+scroll"==s.type?r.TweenLite.to(u,w,{force3D:"auto",x:g,ease:r.Power3.easeOut,overwrite:"all"}):r.TweenLite.to(u,w,{force3D:"auto",x:g,y:b,ease:r.Power3.easeOut,overwrite:"all"})}if("3D"==s.type||"3d"==s.type){var x=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer";"carousel"===t.sliderType&&(x=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer"),t.c.find(x).each(function(){var e=jQuery(this),i=s.levels[s.levels.length-1]/200,o=c*i,l=f*i,n=0==t.conw?0:Math.round(c/t.conw*i*100)||0,d=0==t.conh?0:Math.round(f/t.conh*i*100)||0,p=e.closest("li"),v=0,u=!1;e.hasClass("dddwrapper-layer")&&(v=s.ddd_z_correction||65,u=!0),e.hasClass("dddwrapper-layer")&&(o=0,l=0),p.hasClass("active-revslide")||"carousel"!=t.sliderType?"on"!=s.ddd_bgfreeze||u?r.TweenLite.to(e,w,{rotationX:d,rotationY:-n,x:o,z:v,y:l,ease:r.Power3.easeOut,overwrite:"all"}):r.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:r.Power3.easeOut,overwrite:"all"}):r.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,x:0,y:0,rotationX:0,z:0,ease:r.Power3.easeOut,overwrite:"all"}),"mouseleave"==a.type&&r.TweenLite.to(jQuery(this),3.8,{z:0,ease:r.Power3.easeOut})})}}),i&&(window.ondeviceorientation=function(a){var i=Math.round(a.beta||0)-70,o=Math.round(a.gamma||0),l=e.find(".active-revslide");if(jQuery(window).width()>jQuery(window).height()){var n=o;o=i,i=n}var d=360/e.width()*o,p=180/e.height()*i,c=s.speed/1e3||3,f=[];if(l.find(".tp-parallax-container").each(function(e){f.push(jQuery(this))}),e.find(".tp-static-layers .tp-parallax-container").each(function(){f.push(jQuery(this))}),jQuery.each(f,function(){var e=jQuery(this),t=parseInt(e.data("parallaxlevel"),0)/100,a=d*t*2,i=p*t*4;r.TweenLite.to(e,c,{force3D:"auto",x:a,y:i,ease:r.Power3.easeOut,overwrite:"all"})}),"3D"==s.type||"3d"==s.type){var w=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer";"carousel"===t.sliderType&&(w=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer"),t.c.find(w).each(function(){var e=jQuery(this),i=s.levels[s.levels.length-1]/200,o=d*i,l=p*i*3,n=0==t.conw?0:Math.round(d/t.conw*i*500)||0,f=0==t.conh?0:Math.round(p/t.conh*i*700)||0,w=e.closest("li"),v=0,u=!1;e.hasClass("dddwrapper-layer")&&(v=s.ddd_z_correction||65,u=!0),e.hasClass("dddwrapper-layer")&&(o=0,l=0),w.hasClass("active-revslide")||"carousel"!=t.sliderType?"on"!=s.ddd_bgfreeze||u?r.TweenLite.to(e,c,{rotationX:f,rotationY:-n,x:o,z:v,y:l,ease:r.Power3.easeOut,overwrite:"all"}):r.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:r.Power3.easeOut,overwrite:"all"}):r.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,z:0,x:0,y:0,rotationX:0,ease:r.Power3.easeOut,overwrite:"all"}),"mouseleave"==a.type&&r.TweenLite.to(jQuery(this),3.8,{z:0,ease:r.Power3.easeOut})})}}));var n=t.scrolleffect;if(n.bgs=new Array,n.on){if("on"===n.on_slidebg)for(var d=0;d<t.allslotholder.length;d++)n.bgs.push(t.allslotholder[d]);n.multiplicator_layers=parseFloat(n.multiplicator_layers),n.multiplicator=parseFloat(n.multiplicator)}void 0!==n.layers&&0===n.layers.length&&(n.layers=!1),void 0!==n.bgs&&0===n.bgs.length&&(n.bgs=!1),a.scrollTicker(t,e)}},scrollTicker:function(e,t){1!=e.scrollTicker&&(e.scrollTicker=!0,i?(r.TweenLite.ticker.fps(150),r.TweenLite.ticker.addEventListener("tick",function(){a.scrollHandling(e)},t,!1,1)):document.addEventListener("scroll",function(r){a.scrollHandling(e,!0)},{passive:!0})),a.scrollHandling(e,!0)},scrollHandling:function(e,o,l){if(e.lastwindowheight=e.lastwindowheight||window.innerHeight,e.conh=0===e.conh||void 0===e.conh?e.infullscreenmode?e.minHeight:e.c.height():e.conh,e.lastscrolltop==window.scrollY&&!e.duringslidechange&&!o)return!1;r.TweenLite.delayedCall(.2,t,[e,window.scrollY]);var s=e.c[0].getBoundingClientRect(),n=e.viewPort,d=e.parallax,p=s.top<0||s.height>e.lastwindowheight?s.top/s.height:s.bottom>e.lastwindowheight?(s.bottom-e.lastwindowheight)/s.height:0;if(e.scrollproc=p,a.callBackHandling&&a.callBackHandling(e,"parallax","start"),n.enable){var c=1-Math.abs(p);c=c<0?0:c,jQuery.isNumeric(n.visible_area)||-1!==n.visible_area.indexOf("%")&&(n.visible_area=parseInt(n.visible_area)/100),1-n.visible_area<=c?e.inviewport||(e.inviewport=!0,a.enterInViewPort(e)):e.inviewport&&(e.inviewport=!1,a.leaveViewPort(e))}if(i&&"on"==d.disable_onmobile)return!1;if("3d"!=d.type&&"3D"!=d.type){if(("scroll"==d.type||"scroll+mouse"==d.type||"mouse+scroll"==d.type)&&d.pcontainers)for(h=0;h<d.pcontainers.length;h++)if(d.pcontainers[h].length>0){var f=d.pcontainers[h],w=d.pcontainer_depths[h]/100,v=Math.round(p*(-w*e.conh)*10)/10||0,u=void 0!==l?l:d.speedls/1e3||0;f.data("parallaxoffset",v),r.TweenLite.to(f,u,{overwrite:"auto",force3D:"auto",y:v})}if(d.bgcontainers)for(var h=0;h<d.bgcontainers.length;h++){var y=d.bgcontainers[h],v=p*(-d.bgcontainer_depths[h]*e.conh)||0,u=void 0!==l?l:d.speedbg/1e3||0;r.TweenLite.to(y,u,{position:"absolute",top:"0px",left:"0px",backfaceVisibility:"hidden",force3D:"true",y:v+"px"})}}var g=e.scrolleffect;if(g.on&&("on"!==g.disable_on_mobile||!i)){var b=Math.abs(p)-g.tilt/100;if(b=b<0?0:b,!1!==g.layers){var x=1-b*g.multiplicator_layers,m={backfaceVisibility:"hidden",force3D:"true",z:.001,perspective:600};if("top"==g.direction&&p>=0&&(x=1),"bottom"==g.direction&&p<=0&&(x=1),x=x>1?1:x<0?0:x,"on"===g.fade&&(m.opacity=x),"on"===g.scale){T=x;m.scale=1-T+1}if("on"===g.blur){_=(1-x)*g.maxblur;m["-webkit-filter"]="blur("+_+"px)",m.filter="blur("+_+"px)"}if("on"===g.grayscale){k="grayscale("+(L=100*(1-x))+"%)";m["-webkit-filter"]=void 0===m["-webkit-filter"]?k:m["-webkit-filter"]+" "+k,m.filter=void 0===m.filter?k:m.filter+" "+k}r.TweenLite.set(g.layers,m)}if(!1!==g.bgs){var x=1-b*g.multiplicator,m={backfaceVisibility:"hidden",force3D:"true"};if("top"==g.direction&&p>=0&&(x=1),"bottom"==g.direction&&p<=0&&(x=1),x=x>1?1:x<0?0:x,"on"===g.fade&&(m.opacity=x),"on"===g.scale){var T=x;r.TweenLite.set(jQuery(".tp-kbimg-wrap"),{transformOrigin:"50% 50%",scale:T,force3D:!0})}if("on"===g.blur){var _=(1-x)*g.maxblur;m["-webkit-filter"]="blur("+_+"px)",m.filter="blur("+_+"px)"}if("on"===g.grayscale){var L=100*(1-x),k="grayscale("+L+"%)";m["-webkit-filter"]=void 0===m["-webkit-filter"]?k:m["-webkit-filter"]+" "+k,m.filter=void 0===m.filter?k:m.filter+" "+k}r.TweenLite.set(g.bgs,m)}}a.callBackHandling&&a.callBackHandling(e,"parallax","end")}})});