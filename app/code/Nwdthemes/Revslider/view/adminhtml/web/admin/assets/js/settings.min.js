define("settings",["jquery","tipsy","themepunchTools"],function(e,t,n){var o=new function(){var t={},i=this;this.getSettingsObject=function(t){for(var n,o,i,c,s=new Object,a=document.getElementById(t),r=a.elements.length,d=0;d<r;d++){var l=a.elements[d];if("##NAME##[]"!=l.name&&!e(l).hasClass("rs-ingore-save")){switch(n=l.name,o=l.value,i=l.type,e(l).hasClass("wp-editor-area")&&(i="editor"),c=!0,i){case"checkbox":if(void 0!==a.elements[d].getAttribute("data-useval")&&null!==a.elements[d].getAttribute("data-useval")){if(!a.elements[d].checked)continue;o=a.elements[d].value}else o=void 0!==a.elements[d].getAttribute("data-unchecked")&&null!==a.elements[d].getAttribute("data-unchecked")?a.elements[d].checked?o:a.elements[d].getAttribute("data-unchecked"):a.elements[d].checked;break;case"radio":0==a.elements[d].checked&&(c=!1);break;case"editor":"undefined"!=typeof tiynMCE&&null!=tinyMCE.get(n)&&(o=tinyMCE.get(n).getContent());break;case"select-multiple":(o=e(l).val())&&(o=o.toString())}1==c&&void 0!=n&&(n.indexOf("[]")>-1?("object"!=typeof s[n=n.replace("[]","")]&&(s[n]=[]),s[n][Object.keys(s[n]).length]=o):s[n]=o)}}return s};var c=function(){if("undefined"!=typeof g_settingsObj)for(key in g_settingsObj)if(g_settingsObj.hasOwnProperty(key)){var e=g_settingsObj[key];for(controlKey in e.controls)e.controls.hasOwnProperty(controlKey)&&(t[controlKey]=e.controls[controlKey])}},s=function(t){e("#"+t+" .unite-postbox .inside").slideUp("fast"),e("#"+t+" .unite-postbox h3").addClass("box_closed")};i.initAccordion=function(t){e("#"+t+" .unite-postbox h3").click(function(){var n=e(this);n.hasClass("box_closed")?(s(t),n.removeClass("box_closed").siblings(".inside").slideDown("fast")):n.addClass("box_closed").siblings(".inside").slideUp("fast")})};var a=function(){e(".button-image-select").click(function(){var t=this.id.replace("_button","");require(["admin"],function(n){n.openAddImageDialog("Choose Image",function(o,i){e("#"+t).val(o);var c=n.getUrlShowImage(i,100,70,!0);if(e("#"+t+"_button_preview").html("<div style=\"width:100px;height:70px;background:url('"+c+"'); background-position:center center; background-size:cover;\"></div>"),e(".show_on_thumbnail_exist").show(),"checked"==e("#thumb_for_admin").prop("checked")){var s=e("#slide_thumb_button_preview div").css("background-image");e("#slide_selector .list_slide_links li.selected .slide-media-container").css({"background-image":s,backgroundSize:"cover",backgroundPosition:"center center"})}})})}),e(".button-image-remove").click(function(){var t=this.id.replace("_button_remove","");e("#"+t).val(""),e("#"+t+"_button_preview").html(""),e(".show_on_thumbnail_exist").hide()}),e(".button-image-select-video").click(function(){require(["admin"],function(t){t.openAddImageDialog("Choose Image",function(n,o){e("#input_video_preview").val(n);var i=t.getUrlShowImage(o,200,150,!0);e("#video-thumbnail-preview").css({backgroundImage:"url("+i+")"})})})}),e(".button-image-remove-video").click(function(){e("#input_video_preview").val(""),"none"!=e("#video_block_vimeo").css("display")&&e("#button_vimeo_search").trigger("click"),"none"!=e("#video_block_youtube").css("display")&&e("#button_youtube_search").trigger("click")}),e(".button-image-select-html5-video").click(function(){e(".ui-dialog.ui-widget,.ui-widget-overlay").hide(),require(["admin"],function(t){t.openAddImageDialog("Choose Image",function(t,n){e(".ui-dialog.ui-widget,.ui-widget-overlay").show(),e("#html5_url_poster").val(t)})})})},r=function(){e(".list_settings li .setting_text").tipsy({gravity:"e",delayIn:70}),e(".tipsy_enabled_top").tipsy({gravity:"s",delayIn:70}),e(".tipsy_enabled_top_left").tipsy({gravity:"se",delayIn:70}),e(".button-primary").tipsy({gravity:"s",delayIn:70}),e('input[type="checkbox"]').change(function(){o.onoffStatus(e(this))}),c(),a(),e("body").on("click",".rs-close-preview",function(){var t=e("#rs-preview-form");t.action=g_urlAjaxActions,e("#preview-slide-data").val("empty_output"),e("#preview_sliderid").val("empty_output"),e("#rs-preview-wrapper").hide(),t.submit()}),e(document).keyup(function(t){27==t.keyCode&&e(".rs-close-preview").click()}),e(window).resize(function(){e(".rs-preview-width").text(e(".rs-frame-preview-wrapper").width()),e(".rs-preview-height").text(e(".rs-frame-preview-wrapper").height())})};i.createModernOnOff=function(){e(".tp-moderncheckbox").each(function(){var t=e(this);t.wrap('<div class="tp-onoffbutton"><span class="tp-onoff-onstate">On</span><span class="tp-onoff-offstate">Off</span></div>'),t.change(function(){var t=e(this);t.hasClass("changedbyclick")||i.onoffStatus(t)})}),e(".tp-modernonoffboxes").each(function(){var t=e(this);t.wrap('<div class="tp-onoffbutton tp-onoffbasedontwo"><span class="tp-onoff-onstate">On</span><span class="tp-onoff-offstate">Off</span></div>');var n=t.find('input[value="on"]'),o=t.find('input[value="off"]');n.change(function(){n.hasClass("changedbyclick")||i.onoffStatusBasedOnTwo(n,o)}),o.change(function(){n.hasClass("changedbyclick")||i.onoffStatusBasedOnTwo(n,o)}),i.onoffStatusBasedOnTwo(n,o)}),e(".tp-onoffbutton").each(function(){e(this).click(function(){var t=e(this);if(t.hasClass("tp-onoffbasedontwo")){var n=t.find('input[value="on"]'),o=t.find('input[value="off"]');n.addClass("changedbyclick"),setTimeout(function(){n.removeClass("changedbyclick")},200),void 0===n.prop("checked")||0==n.prop("checked")||""==n.prop("checked")?(n.attr("checked","checked"),o.attr("checked",!1)):(n.attr("checked",!1),o.attr("checked","checked")),n.trigger("change"),o.trigger("change"),i.onoffStatusBasedOnTwo(n,o)}else inp=t.find("input"),inp.addClass("changedbyclick"),setTimeout(function(){inp.removeClass("changedbyclick")},200),void 0===inp.prop("checked")||0==inp.prop("checked")||""==inp.prop("checked")?inp.attr("checked","checked"):inp.attr("checked",!1),inp.trigger("change"),i.onoffStatus(inp)})})},i.onoffStatus=function(e){var t=e.closest(".tp-onoffbutton"),o=t.find(".tp-onoff-onstate"),i=t.find(".tp-onoff-offstate");void 0===e.prop("checked")||0==e.prop("checked")||""==e.prop("checked")?(n.TweenLite.to(o,.2,{left:"50px"}),n.TweenLite.to(i,.2,{left:"0px"})):(n.TweenLite.to(o,.2,{left:"0px"}),n.TweenLite.to(i,.2,{left:"-50px"}))},i.onoffStatusBasedOnTwo=function(e,t){var o=e.closest(".tp-onoffbutton"),i=o.find(".tp-onoff-onstate"),c=o.find(".tp-onoff-offstate");void 0===e.prop("checked")||0==e.prop("checked")||""==e.prop("checked")?(n.TweenLite.to(i,.2,{left:"50px"}),n.TweenLite.to(c,.2,{left:"0px"})):(n.TweenLite.to(i,.2,{left:"0px"}),n.TweenLite.to(c,.2,{left:"-50px"}))},e(document).ready(function(){r()})};return o});