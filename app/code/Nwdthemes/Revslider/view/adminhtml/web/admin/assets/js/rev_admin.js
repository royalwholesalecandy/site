define("revAdmin",["jquery","settings","admin","rsCodeMirror","rev_lang","loading","editLayers","editLayersTimeline","perfectScrollbar"],function(e,t,i,a,s,l,o,r){var n={},d=[],c=!1,_=new function(){var p=this,u=null,f=function(a){e("#button_save_slider,#button_save_slider_t").click(function(){var s={params:t.getSettingsObject("form_slider_params"),main:t.getSettingsObject("form_slider_main"),template:e("#revslider_template").val()};"update_slider"==a&&(s.sliderid=e("#sliderid").val(),s.params.custom_css=rev_cm_custom_css.getValue(),s.params.custom_javascript=rev_cm_custom_js.getValue(),i.setAjaxLoaderID("loader_update, #loader_update_t"),i.setAjaxHideButtonID("button_save_slider,button_save_slider_t"),i.setSuccessMessageID("update_slider_success,#update_slider_success_t")),i.ajaxRequest(a,s)})};p.initLayerPreview=function(){e("#button_preview_slider-tb").click(function(){var t=e("#sliderid").val();C(t)})};var h=function(){var t=e("#alias").val(),i='{{block class="Nwdthemes\\Revslider\\Block\\Revslider" alias="'+t+'"}}';""==t&&(i=s.wrong_alias),e("#shortcode").val(i)},m=!1;p.load_slider_template_html=function(){return m?(e("#template_area").addClass("show"),e("#template_area").trigger("showitnow")):i.ajaxRequest("load_template_store_sliders",{},function(t){t.success&&(e(".revolution-template-groups").html(t.html),e("#template_area").addClass("show"),e("#template_area").trigger("showitnow"),initTemplateSliders(),m=!0)}),!0};var g=!1;p.load_slide_template_html=function(){return g?(e("#template_area").addClass("show"),e(".revolution-template-groups").perfectScrollbar(),scrollTA()):i.ajaxRequest("load_template_store_slides",{},function(t){t.success&&(e(".revolution-basic-templates").html(t.html),g=!0,templateSelectorHandling(),e("#template_area").addClass("show"),e(".revolution-template-groups").perfectScrollbar(),scrollTA())}),!0};var v=function(t,i,a,s){e('input[name="width"]').attr("disabled",!1),e('input[name="height"]').attr("disabled",!1),"normal"!=s&&"full"!=s||e("#layout-preshow").removeClass("lp-fullscreenalign"),t?(e("#responsitive_row").removeClass("disabled"),e("#responsitive_row input").prop("disabled","")):(e("#responsitive_row").addClass("disabled"),e("#responsitive_row input").prop("disabled","disabled")),i?(e("#auto_height_row").removeClass("disabled"),e("#layout-preshow").removeClass("lp-fullscreenalign")):e("#auto_height_row").addClass("disabled"),"normal"==s&&0==t&&0==i&&0==a?e(".rs-hide-on-fixed").hide():e(".rs-hide-on-fixed").show(),a?(e(".rs-show-on-fullscreen").show(),e(".rs-hide-on-fullscreen").hide(),"on"==e('input[name="full_screen_align_force"]:checked').val()&&e("#layout-preshow").addClass("lp-fullscreenalign"),e("#full_screen_align_force_row").removeClass("disabled"),e("#fullscreen_offset_container_row").removeClass("disabled")):(e(".rs-show-on-fullscreen").hide(),e(".rs-hide-on-fullscreen").show(),e("#full_screen_align_force_row").addClass("disabled"),e("#fullscreen_offset_container_row").addClass("disabled")),a||i?e("#force_full_width_row").removeClass("disabled"):e("#force_full_width_row").addClass("disabled"),e("#layout-preshow").removeClass("lp-fixed"),e("#layout-preshow").removeClass("lp-custom"),e("#layout-preshow").removeClass("lp-autoresponsive"),e("#layout-preshow").removeClass("lp-fullscreen"),t?e("#layout-preshow").addClass("lp-custom"):i?e("#layout-preshow").addClass("lp-autoresponsive"):a?e("#layout-preshow").addClass("lp-fullscreen"):e("#layout-preshow").addClass("lp-fixed")},b=function(t,i){e("#"+t).change(function(){var t=e(this).val(),a=[];e("#"+i+" option").each(function(){1==e(this).prop("selected")&&a.push(e(this).val())}),e("#"+i).empty(),e(t).each(function(t,s){var l=u[s];for(var o in l)if(l.hasOwnProperty(o)){var r=l[o],n=new Option(r,o);0==o.indexOf("option_disabled")?e(n).prop("disabled","disabled"):-1!==e.inArray(e(n).val(),a)&&e(n).prop("selected","selected"),e("#"+i).append(n)}})}),e("#"+t).change()},w=function(){x(),e("#slider_type_1").click(function(){v(!1,!1,!1,"normal")}),e("#slider_type_2").click(function(){v(!0,!1,!1,"normal")}),e("#slider_type_3").click(function(){v(!1,!0,!1,"full")}),e("#slider_type_4").click(function(){v(!1,!1,!0,"screen")}),e('input[name="full_screen_align_force"]').click(function(){"on"==e(this).val()?e("#layout-preshow").addClass("lp-fullscreenalign"):e("#layout-preshow").removeClass("lp-fullscreenalign")}),e('input[name="auto_height"]').click(function(){"on"==e(this).val()?e("#layout-preshow").addClass("lp-autoheight"):e("#layout-preshow").removeClass("lp-autoheight")}),e('input[name="force_full_width"]').click(function(){"on"==e(this).val()?e("#layout-preshow").addClass("lp-fullwidth"):e("#layout-preshow").removeClass("lp-fullwidth")}),e('input[name="full_screen_align_force"]:checked').click(),e('input[name="auto_height"]:checked').click(),e('input[name="force_full_width"]:checked').click(),u=e.parseJSON(g_jsonTaxWithCats),b("post_types","post_category"),b("product_types","product_category"),e("#fetch_type").change(function(){switch(e(".rs-post-type-wrap").hide(),e(".rs-post-order-setting").show(),e("#post_sortby_row").show(),e(this).val()){case"cat_tag":e(".rs-post-type-wrap").show();break;case"related":break;case"popular":case"recent":e(".rs-post-order-setting").hide();break;case"next_prev":e("#post_sortby_row").hide()}}),e("#fetch_type option:selected").change(),e("input[name='source_type']").click(function(){"posts"==e(this).val()?(e("#toolbox_wrapper").hide(),e("#slider_type_row").hide(),e("#slider_type_row").prev().hide(),e("#fullscreen_offset_container_row").hide(),e("#full_screen_align_force_row").hide(),e("#slider_size_row").hide(),e("#auto_height_row").hide(),e("#force_full_width_row").hide(),e("#responsitive_row").hide(),e("#responsitive_row").next().hide()):(e(".settings_panel_right").show(),e("#toolbox_wrapper").show(),e("#slider_type_row").show(),e("#slider_type_row").prev().show(),e("#fullscreen_offset_container_row").show(),e("#full_screen_align_force_row").show(),e("#slider_size_row").show(),e("#auto_height_row").show(),e("#force_full_width_row").show(),e("#responsitive_row").show(),e("#responsitive_row").next().show(),e("#layout-preshow").show()),"specific_posts"==e(this).val()?(e('#fetch_type option[value="cat_tag"]').attr("selected","selected"),e("#fetch_type option:selected").change()):e("#fetch_type option:selected").change(),e(".rs-settings-wrapper").hide(),"posts"==e(this).val()||"specific_posts"==e(this).val()||"woocommerce"==e(this).val()?(e("#rs-post-settings-wrapper").show(),e(".rs-specific-posts-wrap").hide(),e(".rs-woocommerce-product-wrap").hide(),e(".rs-post-types-wrapper").hide(),e(".rs-show-for-wc").hide(),e(".rs-hide-for-wc").show(),"posts"==e(this).val()?(e(".rs-post-types-wrapper").show(),e(".rs-specific-posts-wrap").hide()):"specific_posts"==e(this).val()?(e(".rs-post-types-wrapper").hide(),e(".rs-specific-posts-wrap").show()):"woocommerce"==e(this).val()&&(e(".rs-woocommerce-product-wrap").show(),e(".rs-show-for-wc").show(),e(".rs-hide-for-wc").hide())):(e("#rs-post-settings-wrapper").hide(),e("#rs-"+e(this).val()+"-settings-wrapper").show(),"facebook"==e(this).val()&&e('select[name="facebook-type-source"]').change(),"instagram"==e(this).val()&&e('select[name="instagram-type"]').change(),"photosets"==e("select[name=flickr-type]").val()&&"flickr"==e("input[name=source_type]:checked").val()&&e("input[name=flickr-user-url]").change(),"youtube"==e("input[name=source_type]:checked").val()&&"playlist"==e("select[name='youtube-type-source']").val()&&e("input[name=youtube-channel-id]").change())}),e(".rs-settings-wrapper").hide(),e("#source_type_1").is(":checked")||e("#source_type_2").is(":checked")?(e("#rs-post-settings-wrapper").show(),e("#source_type_1").is(":checked")?(e(".rs-post-types-wrapper").show(),e(".rs-specific-posts-wrap").hide()):(e(".rs-post-types-wrapper").hide(),e(".rs-specific-posts-wrap").show())):(e("#rs-post-settings-wrapper").hide(),e("input[name=source_type]:checked").click()),e("#source_type_1").is(":checked")&&(e("#toolbox_wrapper").hide(),e("#slider_type_row").hide(),e("#slider_type_row").prev().hide(),e("#fullscreen_offset_container_row").hide(),e("#full_screen_align_force_row").hide(),e("#slider_size_row").hide(),e("#auto_height_row").hide(),e("#force_full_width_row").hide(),e("#responsitive_row").hide(),e("#responsitive_row").next().hide()),e(document).ready(function(){e('input[name="slider_type"]:checked').click(),e('select[name="navigation_style"]').change(function(){switch(e(this).val()){case"preview1":case"preview2":case"preview3":case"preview4":e("#leftarrow_align_hor_row").hide(),e("#leftarrow_align_vert_row").hide(),e("#leftarrow_offset_hor_row").hide(),e("#leftarrow_offset_vert_row").hide(),e("#rightarrow_align_hor_row").hide(),e("#rightarrow_align_vert_row").hide(),e("#rightarrow_offset_hor_row").hide(),e("#rightarrow_offset_vert_row").hide(),e("#navigation_arrows_row").hide();break;default:e("#navigaion_type").change(),e("#navigation_arrows").change()}}),e("#navigation_arrows").on("change",function(){switch(e(this).val()){case"nexttobullets":case"solo":var t=e('select[name="navigation_style"]').val();"preview1"!=t&&"preview2"!=t&&"preview3"!=t&&"preview4"!=t&&(e("#leftarrow_align_hor_row").show(),e("#leftarrow_align_vert_row").show(),e("#leftarrow_offset_hor_row").show(),e("#leftarrow_offset_vert_row").show(),e("#rightarrow_align_hor_row").show(),e("#rightarrow_align_vert_row").show(),e("#rightarrow_offset_hor_row").show(),e("#rightarrow_offset_vert_row").show());break;default:e("#leftarrow_align_hor_row").hide(),e("#leftarrow_align_vert_row").hide(),e("#leftarrow_offset_hor_row").hide(),e("#leftarrow_offset_vert_row").hide(),e("#rightarrow_align_hor_row").hide(),e("#rightarrow_align_vert_row").hide(),e("#rightarrow_offset_hor_row").hide(),e("#rightarrow_offset_vert_row").hide()}}),e('select[name="navigation_style"] option:selected').change(),e("#navigation_type").change(function(){switch(e(this).val()){case"bullet":case"thumb":var t=e('select[name="navigation_style"]').val();"preview1"!=t&&"preview2"!=t&&"preview3"!=t&&"preview4"!=t&&e("#navigation_arrows_row").show();break;default:e("#navigation_arrows_row").hide()}}),e("#navigation_style").change()}),e("body").on("change",'select[name="facebook-type-source"]',function(){var t=e(this).val();"timeline"==t?(e("#facebook-album-wrap").hide(),e("#facebook-timeline-wrap").show()):(e("#facebook-timeline-wrap").hide(),e("#facebook-album-wrap").show(),e("input[name=facebook-page-url]").change()),e("input[name=facebook-type-source]").val(t)}),"facebook"==e("input[name=source_type]:checked").val()&&e('select[name="facebook-type-source"]').change(),e("input[name=facebook-page-url]").change(function(){if("album"==e("select[name='facebook-type-source']").val()){var t={url:e("input[name=facebook-page-url]").val(),album:e("input[name=facebook-album]").val(),app_id:e("input[name=facebook-app-id]").val(),app_secret:e("input[name=facebook-app-secret]").val()};""!=e("input[name=facebook-page-url]").val()?i.ajaxRequest("get_facebook_photosets",t,function(t){e("select[name=facebook-album-select]").html(t.html),e("select[name=facebook-album-select]").change()}):(e("select[name=facebook-album-select]").html(""),e("select[name=facebook-album-select]").change())}}),"facebook"==e("input[name=source_type]:checked").val()&&e("input[name=facebook-page-url]").change(),e("select[name=facebook-album-select]").change(function(){e("input[name=facebook-album]").val(e("select[name=facebook-album-select]").val())}),e("select[name=flickr-type]").change(function(){switch(e(this).val()){case"publicphotos":e("#flickr-photosets-wrap,#flickr-gallery-url-wrap,#flickr-group-url-wrap").hide(),e("#flickr-publicphotos-url-wrap").show();break;case"gallery":e("#flickr-publicphotos-url-wrap,#flickr-photosets-wrap,#flickr-group-url-wrap").hide(),e("#flickr-gallery-url-wrap").show();break;case"photosets":e("#flickr-gallery-url-wrap,#flickr-group-url-wrap").hide(),e("#flickr-publicphotos-url-wrap,#flickr-photosets-wrap").show();break;case"group":e("#flickr-publicphotos-url-wrap,#flickr-photosets-wrap,#flickr-gallery-url-wrap").hide(),e("#flickr-group-url-wrap").show()}}),e("select[name=flickr-type]").change(),e("input[name=flickr-user-url],select[name=flickr-type]").change(function(){if("photosets"==e("select[name=flickr-type]").val())if(""!=e("input[name=flickr-user-url]").val()&&""!=e("input[name=flickr-api-key]").val()){var t={url:e("input[name=flickr-user-url]").val(),key:e("input[name=flickr-api-key]").val(),count:e("input[name=flickr-count]").val(),set:e("input[name=flickr-photoset]").val()};i.ajaxRequest("get_flickr_photosets",t,function(t){e("select[name=flickr-photoset-select]").html(t.data.html),e("select[name=flickr-photoset-select]").change()})}else e("select[name=flickr-photoset-select]").html(response.data.html),e("input[name=flickr-photoset]").val("")}),"photosets"==e("select[name=flickr-type]").val()&&"flickr"==e("input[name=source_type]:checked").val()&&e("input[name=flickr-user-url]").change(),e("select[name=flickr-photoset-select]").change(function(){e("input[name=flickr-photoset]").val(e("select[name=flickr-photoset-select]").val())}),e("select[name=youtube-playlist-select]").change(function(){e("input[name=youtube-playlist]").val(e("select[name=youtube-playlist-select]").val())}),e("input[name=youtube-channel-id]").change(function(){if("playlist"==e("select[name='youtube-type-source']").val()){var t={api:e("input[name=youtube-api]").val(),id:e("input[name=youtube-channel-id]").val(),playlist:e("input[name=youtube-playlist]").val()};""!=e("input[name=youtube-channel-id]").val()?i.ajaxRequest("get_youtube_playlists",t,function(t){e("select[name=youtube-playlist-select]").html(t.data.html),e("select[name=youtube-playlist-select]").change()}):e("select[name=youtube-playlist-select]").html("")}}),e("select[name=youtube-type-source]").change(function(){"playlist"!=e(this).val()?e("#youtube-playlist-wrap").hide():(e("#youtube-playlist-wrap").show(),"youtube"==e("input[name=source_type]:checked").val()&&""!=e("input[name=youtube-channel-id]").val()&&"playlist"==e('select[name="youtube-type-source"]').val()&&e("input[name=youtube-channel-id]").change())}),e("select[name=youtube-type-source]").change(),e("select[name=vimeo-type-source]").change(function(){var t=e(this).val();e(".source-vimeo").hide(),e("#vimeo-"+t+"-wrap").show()}),e("select[name=vimeo-type-source]").change(),e("body").on("change",'select[name="instagram-type"]',function(){var t=e(this).val();e(this).parent().find("div").hide(),e("#instagram_"+t).show()}),"instagram"==e("input[name=source_type]:checked").val()&&e('select[name="instagram-type"]').change(),e("body").on("click",'input[name="loop_slide"]',function(){"noloop"==e(this).val()&&(e('#navigaion_type option[value="none"]').attr("selected",!0),e('#navigation_arrows option[value="none"]').attr("selected",!0),e("#navigaion_type").change(),e("#navigation_arrows").change(),i.showInfo({type:"info",hideon:"",event:"",content:s.nav_bullet_arrows_to_none,hidedelay:3}))}),e("#enable_advanced_sizes").click(function(){e(".rev-advanced-sizes-wrap").show(),e("#rev-enable-advanced-sizes").hide(),e('input[name="advanced-responsive-sizes"]').val("true"),e(".rev-desktop-naming").html("Desktop")}),e("#disable_advanced_sizes").click(function(){e(".rev-advanced-sizes-wrap").hide(),e("#rev-enable-advanced-sizes").show(),e('input[name="advanced-responsive-sizes"]').val("false"),e(".rev-desktop-naming").html("")})};function k(){var t=e("#spinner_color").val(),i=e("#use_spinner");0!=i.val()&&5!=i.val()||(t="#ffffff");var a=e("#spinner_preview .tp-loader.tp-demo");a.hasClass("spinner0")||a.hasClass("spinner1")||a.hasClass("spinner2")?a.css({backgroundColor:t}):a.find("div").css({backgroundColor:t})}function y(t,i){var a=e("#use_spinner");t.find(".tp-loader").remove(),t.append('<div class="tp-loader tp-demo"><div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),t.find(".tp-demo").addClass("spinner"+a.val()),"-1"==a.val()||0==a.val()||5==a.val()?e("#spinner_color_row").css({display:"none"}):e("#spinner_color_row").css({display:"block"}),k()}this.initSpinnerAdmin=function(){e("#use_spinner_row").parent().prepend('<div id="spinner_preview"></div>');var t=e("#spinner_preview"),i=e("#use_spinner"),a=e("#spinner_color"),s=a.val();y(t),i.on("change",function(){y(t,!0)}),setInterval(function(){s!=a.val()&&(k(),oldocl=a.val())},300)},this.initAddSliderView=function(){w(),e("#title").focus(),f("create_slider"),v(!1,!1,!1,"normal"),this.initSpinnerAdmin()},this.initEditSliderView=function(){w(),f("update_slider"),e("#button_delete_slider, #button_delete_slider_t").click(function(){if(0==confirm(s.really_want_to_delete+" '"+e("#title").val()+"' ?"))return!0;var t={sliderid:e("#sliderid").val()};i.ajaxRequest("delete_slider",t)}),e("#api_wrapper .api-input").click(function(){e(this).select().focus()}),e("#link_show_api").click(function(){e("#api_wrapper").show(),e("#link_show_api").addClass("button-selected"),e("#toolbox_wrapper").hide(),e("#link_show_toolbox").removeClass("button-selected")}),e("#link_show_toolbox").click(function(){e("#toolbox_wrapper").show(),e("#link_show_toolbox").addClass("button-selected"),e("#api_wrapper").hide(),e("#link_show_api").removeClass("button-selected")}),e("#button_export_slider").click(function(){var t=e("#sliderid").val(),a=e('input[name="export_dummy_images"]').is(":checked"),s=ajaxurl+i.return_ajaxurl_param()+"action="+g_uniteDirPlugin+"_ajax_action&client_action=export_slider&dummy="+a+"&nonce="+g_revNonce;s+="&sliderid="+t,location.href=s}),e("#button_preview_slider, #button_preview_slider_t").click(function(){var t=e("#sliderid").val();C(t)}),e("#button_replace_url").click(function(){if(0==confirm(s.sure_to_replace_urls))return!1;var t={sliderid:e("#sliderid").val(),url_from:e("#replace_url_from").val(),url_to:e("#replace_url_to").val(),replace_all:e("[name=replace_url_all]:checked").val()};i.setAjaxLoaderID("loader_replace_url"),i.setAjaxHideButtonID("button_replace_url"),i.setSuccessMessageID("replace_url_success"),i.ajaxRequest("replace_image_urls",t)}),e('input[name="slider_type"]').each(function(){e(this).is(":checked")&&e(this).click()}),e("#reset_slide_button").click(function(){if("0.5"==e(this).css("opacity"))return!1;if(0==confirm(s.set_settings_on_all_slider))return!1;var t={sliderid:e("#sliderid").val()};e('input[name="reset-slide_transition"]').is(":checked")&&(t.slide_transition=e('select[name="def-slide_transition"] option:selected').val()),e('input[name="reset-transition_duration"]').is(":checked")&&(t.transition_duration=e('input[name="def-transition_duration"]').val()),e('input[name="reset-image_source_type"]').is(":checked")&&(t.image_source_type=e('select[name="def-image_source_type"] option:selected').val()),e('input[name="reset-background_fit"]').is(":checked")&&(t.bg_fit=e("#def-background_fit option:selected").val(),"percentage"==t.bg_fit&&(t.bg_fit_x=e('input[name="def-bg_fit_x"]').val(),t.bg_fit_y=e('input[name="def-bg_fit_y"]').val())),e('input[name="reset-bg_position"]').is(":checked")&&(t.bg_position=e('select[name="def-bg_position"] option:selected').val(),"percentage"==t.bg_position&&(t.bg_position_x=e('input[name="def-bg_position_x"]').val(),t.bg_position_y=e('input[name="def-bg_position_y"]').val())),e('input[name="reset-bg_repeat"]').is(":checked")&&(t.bg_repeat=e('select[name="def-bg_repeat"] option:selected').val()),e('input[name="reset-kenburn_effect"]').is(":checked")&&(t.kenburn_effect=e('input[name="def-kenburn_effect"]').is(":checked")?"on":"off"),e('input[name="reset-kb_start_fit"]').is(":checked")&&(t.kb_start_fit=e('input[name="def-kb_start_fit"]').val()),e('input[name="reset-kb_easing"]').is(":checked")&&(t.kb_easing=e('select[name="def-kb_easing"] option:selected').val()),e('input[name="reset-kb_end_fit"]').is(":checked")&&(t.kb_end_fit=e('input[name="def-kb_end_fit"]').val()),e('input[name="reset-kb_duration"]').is(":checked")&&(t.kb_duration=e('input[name="def-kb_duration"]').val()),e('input[name="reset-kb_start_offset_x"]').is(":checked")&&(t.kb_start_offset_x=e('input[name="def-kb_start_offset_x"]').val()),e('input[name="reset-kb_start_offset_y"]').is(":checked")&&(t.kb_start_offset_y=e('input[name="def-kb_start_offset_y"]').val()),e('input[name="reset-kb_end_offset_x"]').is(":checked")&&(t.kb_end_offset_x=e('input[name="def-kb_end_offset_x"]').val()),e('input[name="reset-kb_end_offset_y"]').is(":checked")&&(t.kb_end_offset_y=e('input[name="def-kb_end_offset_y"]').val()),e('input[name="reset-kb_start_rotate"]').is(":checked")&&(t.kb_start_rotate=e('input[name="def-kb_start_rotate"]').val()),e('input[name="reset-kb_end_rotate"]').is(":checked")&&(t.kb_end_rotate=e('input[name="def-kb_end_rotate"]').val()),i.ajaxRequest("reset_slide_settings",t)}),e(".rs-reset-slide-setting").change(function(){e("#reset_slide_button").css("opacity","0.5"),e(".rs-reset-slide-setting").each(function(){if(e(this).is(":checked"))return e("#reset_slide_button").css("opacity","1"),!0})}),e(".rs-reset-slide-setting").change(),e(".tp-moderncheckbox").each(function(){t.onoffStatus(e(this))}),this.initSpinnerAdmin()};var x=function(){e("#shortcode").focus(function(){this.select()}),e("#shortcode").click(function(){this.select()}),e("#alias").change(function(){h()}),e("#alias").keyup(function(){h()}),h()};this.initNewsletterRoutine=function(){e("#subscribe-to-newsletter").click(function(){var t={email:e('input[name="rs-email"]').val()};i.ajaxRequest("subscribe_to_newsletter",t)}),e("#activate-unsubscribe").click(function(){e(".subscribe-newsletter-wrap").hide(),e("#activate-unsubscribe").hide(),e(".unsubscribe-newsletter-wrap").show(),e("#unsubscribe-text").show(),e("#subscribe-text").hide()}),e("#cancel-unsubscribe").click(function(){e(".subscribe-newsletter-wrap").show(),e("#activate-unsubscribe").show(),e(".unsubscribe-newsletter-wrap").hide(),e("#unsubscribe-text").hide(),e("#subscribe-text").show()}),e("#unsubscribe-to-newsletter").click(function(){var t={email:e('input[name="rs-email"]').val()};i.ajaxRequest("unsubscribe_to_newsletter",t)})},this.initSlidersListView=function(){var t;e("body").on("click",".rs-reload-shop",function(){l({fadeIn:300,text:s.please_wait_a_moment}),location.href=window.location.href+(-1==window.location.href.indexOf("?")?"?":"&")+"update_shop"}),e("body").on("click",".template_slider_item_reimport, .install_template_slider",function(){var t=e(this);if(e("#import_dialog_box").data("requested_slide",t.data("title")),t.hasClass("deny_download"))return alert(s.this_template_requires_version+" "+t.data("versionneed")+" "+s.of_slider_revolution),!1;var i={};return i.zip=t.data("zipname"),i.uid=t.data("uid"),i.package="false",e("#dialog_import_template_slider_from").dialog({modal:!0,resizable:!1,dialogClass:"tpdialogs",create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Local:function(){if(RS_DEMO)return alert(s.not_available_in_demo),!1;e(".input_import_slider").val(""),e(".rs-import-slider-button").hide(),e(".rs-zip-name").text(i.zip),e(".rs-uid").val(i.uid),e(".rs-package").val(i.package),e("#dialog_import_template_slider").dialog({modal:!0,resizable:!1,width:600,height:450,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){e(this).dialog("close")}}}),e(this).dialog("close")},Online:function(){rs_plugin_validated?rs_single_page_creation?e("#dialog_import_template_slider_page_template").dialog({modal:!0,resizable:!1,title:"Create Blank Demo Page",width:450,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Yes:function(){a(i,"true"),e(this).dialog("close"),e("#dialog_import_template_slider_from").dialog("close")},No:function(){a(i,"false"),e(this).dialog("close"),e("#dialog_import_template_slider_from").dialog("close")}}}):(a(i,"false"),e("#dialog_import_template_slider_from").dialog("close")):e("#regsiter-to-access-store-none").click()}}}),e("#close-template").click(),!1}),e("body").on("click",".template_slider_item_reimport_package, .install_template_slider_package",function(){if(e(this).hasClass("deny_download"))return alert(s.this_template_requires_version+" "+e(this).data("versionneed")+" "+s.of_slider_revolution),!1;var t={};return t.zip=e(this).data("zipname"),t.uid=e(this).data("uid"),t.package="true",rs_plugin_validated?rs_pack_page_creation?e("#dialog_import_template_slider_page_template").dialog({modal:!0,resizable:!1,title:"Create Blank Demo Page",width:450,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Yes:function(){a(t,"true"),e(this).dialog("close")},No:function(){a(t,"false"),e(this).dialog("close")}}}):a(t,"false"):alert(s.this_feature_only_if_activated),e("#close-template").click(),!1});var a=function(a,l){if(e("#import_dialog_box").html(""),e("#dialog_import_template_slider_info").dialog({modal:!0,resizable:!1,width:450,minHeight:350,dialogClass:"tpdialogs",open:function(i,a){var s=e(i.target).parent(),l=s.find(".ui-dialog-titlebar");s.attr("id","tp_import_sliders"),l.attr("id","tp_import_sliders_title"),t=e(".ui-dialog-titlebar-close",a.dialog),e(".ui-dialog-titlebar-close",a.dialog).hide()}}),void 0!==a.package&&void 0!==slider_package_uids[a.uid]){for(var o in a["page-creation"]=!1,delete a.package,n={},d=[],slider_package_uids[a.uid])if(slider_package_uids[a.uid].hasOwnProperty(o))for(var r in slider_package_uids[a.uid][o])slider_package_uids[a.uid][o].hasOwnProperty(r)&&(n[o]={uid:slider_package_uids[a.uid][o][r],sid:r,status:0});var _=0,p=setInterval(function(){30==++_&&e("#import_dialog_box_action").append('<div class="import_failure">'+s.download_install_takes_longer+"</div>"),60==_&&(e("#import_dialog_box").append(s.download_failed_check_server),e("#import_dialog_box").append("<div>"+s.aborting_import+"</div>"),e("#import_dialog_box_action").html(""),void 0!==t&&t.show(),clearInterval(p));var o=0,r=1,u=!0;for(var f in n)n.hasOwnProperty(f)&&(1===n[f].status&&(o=1),2!==n[f].status&&(u=!1),2===n[f].status&&r++);if(r<=Object.keys(n).length?e("#install-slider-counter").css({width:r/Object.keys(n).length*100+"%"}):e("#install-slider-counter").width("100%"),0===o)for(var f in _=0,n)if(n.hasOwnProperty(f)&&0===n[f].status){a.uid=n[f].uid,e("#import_dialog_box_action").html(slider_package_names[n[f].uid].name),n[f].status=1,i.ajaxRequest("import_slider_online_template_slidersview_new",a,function(t){if(n[f].status=2,void 0!==t.slider_id&&t.slider_id>0&&d.push(t.slider_id),!1!==t.view&&(c=t.view),t.error.length>0)for(var i in t.error)t.error.hasOwnProperty(i)&&e("#import_dialog_box").append("<div>"+t.error[i]+"</div>")},!0);break}u&&(clearInterval(p),"true"===l?(e("#import_dialog_box").append("<div>"+s.create_draft+"</div>"),i.ajaxRequest("create_draft_page",{slider_ids:d},function(t){!1!==t.open?(e("#import_dialog_box").append("<div>"+s.draft_created+"</div>"),window.open(t.open,"_blank")):e("#import_dialog_box").append("<div>"+s.draft_not_created+"</div>"),e("#import_dialog_box").append("<div>"+s.slider_import_success_reload+"</div>"),!1!==c&&(location.href=c)},!0)):(e("#import_dialog_box").append("<div>"+s.slider_import_success_reload+"</div>"),!1!==c&&(location.href=c)))},1e3)}else{a["page-creation"]=l;var u=e("#import_dialog_box").data("requested_slide");e("#import_dialog_box").append("<div>"+u+"</div>"),i.ajaxRequest("import_slider_online_template_slidersview_new",a,function(t){if(e("#import_dialog_box_action").html(""),t.error.length>0)for(var i in t.error)e("#import_dialog_box").append("<div>"+t.error[i]+"</div>");else{for(var i in t.success)t.success.hasOwnProperty(i)&&e("#install-slider-counter").css({width:"100%"});!1!==t.open&&(e("#import_dialog_box").append("<div>"+s.draft_created+"</div>"),window.open(t.open,"_blank")),!1!==t.view&&(e("#import_dialog_box").append("<div>"+s.slider_import_success_reload+"</div>"),location.href=t.view)}},!0)}};p.get_title_by_uid=function(t){var i=e('.template_slide_item_img[data-uid="'+t+'"]').data("title");return null==i&&(i=e('.install_template_slider[data-uid="'+t+'"]').data("title")),null==i&&(i=e('.template_slider_item_import[data-uid="'+t+'"]').data("title")),null==i&&(i=e('.install_template_slider_package[data-uid="'+t+'"]').data("title")),i},e("body").on("click",".add_template_slider_item",function(){var t=e(this).data("sliderid");e("#dialog_duplicate_slider").dialog({modal:!0,resizable:!1,title:"Import",width:250,height:200,closeOnEscape:!0,dialogClass:"tpdialogs tpdialogs_z",create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){e(this).dialog("close")},Import:function(){if(""==e("#rs-duplicate-animation").val())return!1;i.ajaxRequest("duplicate_slider",{sliderid:t,title:e("#rs-duplicate-animation").val()},function(t){e("#close-template").click()})}}})}),e("body").on("click",".add_template_slider_item_package",function(){var t=e(this).data("uid");e("#dialog_duplicate_slider_package").dialog({modal:!0,resizable:!1,title:"Import Package",width:250,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){e(this).dialog("close")},"Import Package":function(){if(""==e("#rs-duplicate-prefix").val())return!1;i.ajaxRequest("duplicate_slider_package",{slideruid:t,title:e("#rs-duplicate-prefix").val()},function(t){e("#close-template").click()})}}})}),e(".input_import_slider").change(function(){""!==e(this).val()?e(".rev-import-slider-button").show():e(".rev-import-slider-button").hide()}),e("#form-import-slider-local, #form-import-online-slider-local").submit(function(i){var a=e(this).find('input[name="import_file"]').val().split("\\").pop();e("#dialog_import_slider").hasClass("ui-dialog-content")&&e("#dialog_import_slider").dialog("close"),e("#dialog_import_template_slider").hasClass("ui-dialog-content")&&e("#dialog_import_template_slider").dialog("close"),e("#dialog_import_template_slider_info").dialog({modal:!0,resizable:!1,width:450,minHeight:350,dialogClass:"tpdialogs",open:function(t,i){var a=e(t.target).parent(),s=a.find(".ui-dialog-titlebar");a.attr("id","tp_import_sliders"),s.attr("id","tp_import_sliders_title"),e(".ui-dialog-titlebar-close",i.dialog).hide()}}),e("#import_dialog_box").html(""),e("#import_dialog_box").append("<div>"+a+"</div>");var l=0,o=setInterval(function(){30==++l&&e("#import_dialog_box_action").append(s.download_install_takes_longer),60==l&&(e("#import_dialog_box").append(s.download_failed_check_server),e("#import_dialog_box").append("<div>"+s.aborting_import+"</div>"),e("#import_dialog_box_action").html(""),void 0!==t&&t.show(),clearInterval(o))},1e3)}),e("#button_import_template_slider, #button_import_template_slider_b").click(function(){p.load_slider_template_html()}),e("#button_import_slider").click(function(){if(RS_DEMO)return alert(s.not_available_in_demo),!1;e(".rev-import-slider-button").hide(),e(".input_import_slider").val(""),e("#dialog_import_slider form").on("submit",function(){return e(".rev-import-slider-button").val(e(".rev-import-slider-button").data("loading")).attr("disabled","disabled"),e(this).on("submit",function(){return!1}),!0}),e("#dialog_import_slider").dialog({modal:!0,resizable:!1,width:600,height:400,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){e(this).dialog("close")}}})}),e(".button_delete_slider").click(function(){var t=this.id.replace("button_delete_",""),a=e("#slider_title_"+t).text();if(0==confirm(s.really_want_to_delete+" '"+a+"' ?"))return!1;i.ajaxRequest("delete_slider_stay",{sliderid:t},function(){e('li[data-id="'+t+'"]').remove()})}),e(".button_duplicate_slider").click(function(){var t=this.id.replace("button_duplicate_","");e("#dialog_duplicate_slider").dialog({modal:!0,resizable:!1,width:250,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){e(this).dialog("close")},Duplicate:function(){if(""==e("#rs-duplicate-animation").val())return!1;i.ajaxRequest("duplicate_slider",{sliderid:t,title:e("#rs-duplicate-animation").val()},function(e){})}}})}),e(".rev-toogle-fav").click(function(){var t=this.id.replace("reg-toggle-id-","");i.ajaxRequest("toggle_favorite",{id:t},function(){var i=e("#reg-toggle-id-"+t).find("i");i.hasClass("eg-icon-star-empty")?(i.removeClass("eg-icon-star-empty"),i.addClass("eg-icon-star")):(i.removeClass("eg-icon-star"),i.addClass("eg-icon-star-empty"))})}),e(".button_slider_preview").click(function(){var e=this.id.replace("button_preview_","");C(e)}),e(".export_slider_overview").click(function(){var e=this.id.replace("export_slider_",""),t=ajaxurl+i.return_ajaxurl_param()+"action="+g_uniteDirPlugin+"_ajax_action&client_action=export_slider&dummy="+!1+"&nonce="+g_revNonce;t+="&sliderid="+e,location.href=t}),e("body").on("click",".rs-embed-slider",function(){var t=e(this).closest("li.tls-slide").find(".tls-alias").text();e(".rs-dialog-embed-slider").find(".rs-example-alias").text(t),e(".rs-dialog-embed-slider").find(".rs-example-alias-1").text('{{block class="Nwdthemes\\Revslider\\Block\\Revslider" alias="'+t+'"}}'),e(".rs-dialog-embed-slider").dialog({modal:!0,resizable:!1,minWidth:850,minHeight:300,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")}})}),e(".export_slider_standalone").click(function(){var e=this.id.replace("export_slider_standalone_",""),t=ajaxurl+i.return_ajaxurl_param()+"action="+g_uniteDirPlugin+"_ajax_action&client_action=preview_slider&only_markup=true&dummy="+!1+"&nonce="+g_revNonce;t+="&sliderid="+e,location.href=t})};var C=function(t){var i=e("#rs-preview-form");e("#rs-client-action").val("preview_slider"),e("#preview_sliderid").val(t),e("#preview_slider_markup").val("false"),i.submit(),e("#rs-preview-wrapper").show(),e(window).trigger("resize")},j=function(t,i){var a,s=(a=[],t.find(".icon_slide_lang").each(function(){var t=e(this).data("lang");a.push(t)}),a),l=0;return e("#langs_float_wrapper li.item_lang").each(function(){var t=e(this),a=t.data("lang");e.inArray(a,s);"add"!=i&&e("#langs_float_wrapper li.operation_sap").hide(),-1==e.inArray(a,s)?(l++,t.show(),"add"!=i&&e("#langs_float_wrapper li.operation_sap").show()):t.hide()}),l};p.initSlidesListViewPosts=function(t){S(t),e("#select_sortby").change(function(){e("#slides_top_loader").show();var a={};a.sliderID=t,a.sortby=e(this).val(),i.ajaxRequest("update_posts_sortby",a,function(){e("#slides_top_loader").html("Updated, reloading page..."),location.reload(!0)})}),e(".button_delete_slide").click(function(){var a={slideID:e(this).data("slideid"),sliderID:t};if(0==confirm(g_messageDeleteSlide))return!1;i.ajaxRequest("delete_slide",a)})};var S=function(t){e("#list_slides").sortable({axis:"y",handle:".col-handle",update:function(){!function(t){var a=e("#list_slides").sortable("toArray"),s=[],l=0;e(a).each(function(t,i){var a=i.replace("slidelist_item_","");s.push(a),l++,e("#slidelist_item_"+a+" .order-text").text(l)});var o={arrIDs:s,sliderID:t};e("#saving_indicator").show(),i.ajaxRequest("update_slides_order",o,function(){e("#saving_indicator").hide()}),e("#select_sortby").val("menu_order")}(t)}}),e("#list_slides .icon_state").click(function(){var a=e(this),s=a.siblings(".state_loader"),l=a.data("slideid"),o={slider_id:t,slide_id:l};a.hide(),s.show(),i.ajaxRequest("toggle_slide_state",o,function(e){a.show(),s.hide(),"published"==e.state?a.removeClass("state_unpublished").addClass("state_published").prop("title","Unpublish Slide"):a.removeClass("state_published").addClass("state_unpublished").prop("title","Publish Slide")})}),e(".col-image .slide_image").click(function(){var e=this.id.replace("slide_image_","");i.openAddImageDialog(g_messageChangeImage,function(a,s){var l={slider_id:t,slide_id:e,url_image:a,image_id:s};i.ajaxRequest("change_slide_image",l)})}).tipsy({gravity:"s",delayIn:70})};p.initSlidesListView=function(t){S(t),e("#button_new_slide, #button_new_slide_top").click(function(){var a=e("#button_new_slide").data("dialogtitle");i.openAddImageDialog(a,function(e){var a={sliderid:t,obj:e};i.ajaxRequest("add_slide",a)},!0)}),e("#button_new_slide_transparent, #button_new_slide_transparent_top").click(function(){e(this).hide(),e(".new_trans_slide_loader").show();var a={sliderid:t};i.ajaxRequest("add_slide",a)}),e(".button_duplicate_slide").click(function(){var e={slideID:this.id.replace("button_duplicate_slide_",""),sliderID:t};i.ajaxRequest("duplicate_slide",e)}),e(".button_copy_slide").click(function(){if(e(this).hasClass("button-disabled"))return!1;var a=e("#dialog_copy_move"),s=(a.data("textclose"),a.data("textupdate")),l=e(this),o={};o[s]=function(){var a=l.attr("id").replace("button_copy_slide_",""),s=e("#selectSliders").val(),o="copy";e("#radio_move").prop("checked")&&(o="move");var r={slideID:a,sliderID:t,targetSliderID:s,operation:o},n=l.siblings(".loader_copy");l.hide(),n.show(),i.ajaxRequest("copy_move_slide",r),e(this).dialog("close")},e("#dialog_copy_move").dialog({modal:!0,resizable:!1,width:400,height:300,closeOnEscape:!0,create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},dialogClass:"tpdialogs",buttons:o})}),e(".button_delete_slide").click(function(){var a={slideID:e(this).data("slideid"),sliderID:t};if(0==confirm("Delete this slide?"))return!1;var s=e(this),l=s.siblings(".loader_delete");s.hide(),l.show(),i.ajaxRequest("delete_slide",a)}),e("#list_slides .icon_slide_preview").click(function(){var t=e(this).data("slideid");I(t,!1)})},p.saveEditSlide=function(a,l){l||(l=!1),r.updateZIndexByOrder(),o.setRowZoneOrders(),r.organiseGroupsAndLayer();var n=o.getLayers(),d={};for(key in n)n.hasOwnProperty(key)&&!0!==n[key].layer_unavailable&&!0!==n[key].deleted&&(d[key]=i.duplicateObject(n[key]),void 0!==d[key].layer_unavailable&&delete d[key].layer_unavailable,void 0!==d[key].deleted&&delete d[key].deleted,void 0!==d[key].references&&delete d[key].references,void 0!==d[key].createdOnInit&&delete d[key].createdOnInit);JSON&&JSON.stringify&&(d=JSON.stringify(d));var c={slideid:a,layers:d};if(c.params=t.getSettingsObject("form_slide_params"),!l){c.params.slide_bg_color=e("#slide_bg_color").val(),c.params.slide_bg_external=e("#slide_bg_external").val(),c.params.bg_fit=e("#slide_bg_fit").val(),c.params.bg_fit_x=e("input[name='bg_fit_x']").val(),c.params.bg_fit_y=e("input[name='bg_fit_y']").val(),c.params.bg_repeat=e("#slide_bg_repeat").val(),c.params.bg_position=e("#slide_bg_position").val(),c.params.bg_position_x=e("input[name='bg_position_x']").val(),c.params.bg_position_y=e("input[name='bg_position_y']").val(),c.params.bg_end_position_x=e("input[name='bg_end_position_x']").val(),c.params.bg_end_position_y=e("input[name='bg_end_position_y']").val();var _=q();if("object"==typeof _&&!e.isEmptyObject(_))for(key in _)_.hasOwnProperty(key)&&(c.params[key]=_[key]);c.params.kenburn_effect=e("input[name='kenburn_effect']").is(":checked")?"on":"off",c.params.kb_start_fit=e("input[name='kb_start_fit']").val(),c.params.kb_end_fit=e("input[name='kb_end_fit']").val(),c.params.bg_end_position=e("select[name='bg_end_position']").val(),c.params.kb_duration=e("input[name='kb_duration']").val(),c.params.kb_easing=e("select[name='kb_easing']").val(),c.params.slide_transition=[],c.params.slot_amount=[],c.params.transition_rotation=[],c.params.transition_duration=[],c.params.transition_ease_in=[],c.params.transition_ease_out=[],e(".slide-trans-cur-ul li").each(function(){c.params.slide_transition.push(e(this).data("animval")),c.params.slot_amount.push(e(this).data("slot")),c.params.transition_rotation.push(e(this).data("rotation")),c.params.transition_duration.push(e(this).data("duration")),c.params.transition_ease_in.push(e(this).data("ease_in")),c.params.transition_ease_out.push(e(this).data("ease_out"))});var p=e(".bgsrcchanger:checked").val();if(("vimeo"==p||"html5"==p||"youtube"==p)&&!(void 0!==c.params.image_id&&0!=parseInt(c.params.image_id)&&""!=c.params.image_id||void 0!==c.params.image_url&&""!=c.params.image_url))return alert(s.cover_image_needs_to_be_set),!1;switch(e('input[name="rs-gallery-type"]').val()){case"gallery":break;case"posts":case"woocommerce":case"facebook":case"twitter":case"instagram":case"flickr":case"youtube":case"vimeo":c.params.image_url=""}}c.settings={};var u=[];e("#hor-css-linear .helplines").each(function(){u.push(e(this).css("left"))});var f=[];e("#ver-css-linear .helplines").each(function(){f.push(e(this).css("top"))}),c.settings.hor_lines=u,c.settings.ver_lines=f,e.each(o.addon_callbacks,function(e,t){var i=t.callback,a=t.environment,s=t.function_position;"saveEditSlide"===a&&"data"==s&&(c=i(c))}),c.obj_favorites=favoriteObjectsList,l?(i.setAjaxHideButtonID("button_save_static_slide,button_save_static_slide-tb"),i.setAjaxLoaderID("loader_update"),i.setSuccessMessageID("update_slide_success"),i.ajaxRequest("update_static_slide",c)):(i.setAjaxHideButtonID("button_save_slide,button_save_slide-tb"),i.setAjaxLoaderID("loader_update"),i.setSuccessMessageID("update_slide_success"),i.ajaxRequest("update_slide",c))},this.initEditSlideView=function(a,r,n){e("body").on("click",".rs-reload-shop",function(){confirm(s.unsaved_data_will_be_lost_proceed)&&(l({fadeIn:300,text:s.please_wait_a_moment}),location.href=window.location.href+(-1==window.location.href.indexOf("?")?"?":"&")+"update_shop")}),e("body").on("click",".install_template_slide",function(){var t=e(this);if(e("#import_dialog_box").data("requested_slide",t.data("title")),t.hasClass("deny_download"))return alert(s.this_template_requires_version+" "+t.data("versionneed")+" "+s.of_slider_revolution),!1;confirm(s.unsaved_data_will_be_lost_proceed)&&(e(".rs-zip-name").text(t.data("zipname")),e(".rs-uid").val(t.data("uid")),e(".rs-slide-number").val(t.data("slidenumber")),e(".rs-slider-id").val(r),n?e(".rs-slide-id").val("static_"+r):e(".rs-slide-id").val(a),e("#dialog_import_template_slide_from").dialog({modal:!0,resizable:!1,dialogClass:"tpdialogs",create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Local:function(){e(".input_import_slider").val(""),e(".rs-import-slider-button").hide(),e("#dialog_import_template_slide").dialog({modal:!0,resizable:!1,width:600,height:350,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){e(this).dialog("close")}}})},Online:function(){rs_plugin_validated?(l({fadeIn:300,text:s.please_wait_a_moment}),d(),e("#rs-import-slide-template-from-server").submit(),e(this).dialog("close")):alert(s.this_feature_only_if_activated)}}}),e("#close-template").click())}),e("#dialog_import_template_slide").submit(function(e){d()});var d=function(){e("#import_dialog_box").html(""),e("#dialog_import_template_slide_info").dialog({modal:!0,resizable:!1,width:450,minHeight:350,open:function(t,i){var a=e(t.target).parent(),s=a.find(".ui-dialog-titlebar");a.attr("id","tp_import_sliders"),s.attr("id","tp_import_sliders_title"),installclosebutton=e(".ui-dialog-titlebar-close",i.dialog),e(".ui-dialog-titlebar-close",i.dialog).hide()}});var t=0;e("#import_dialog_box").append(e("#import_dialog_box").data("requested_slide"));var i=setInterval(function(){60==++t&&e("#import_dialog_box_action").append(s.download_install_takes_longer),90==t&&(e("#import_dialog_box").append(s.download_failed_check_server),e("#import_dialog_box").append("<div>"+s.aborting_import+"</div>"),e("#import_dialog_box_action").html(""),clearInterval(i))},1e3)};e(".tp-accordion").click(function(){var t=e(this);t.hasClass("tpa-closed")?(t.parent().parent().parent().find(".tp-closeifotheropen").each(function(){e(this).slideUp(300),e(this).parent().find(".tp-accordion").addClass("tpa-closed").addClass("box_closed").find(".postbox-arrow2").html("+")}),t.parent().find(".toggled-content").slideDown(300),t.removeClass("tpa-closed").removeClass("box_closed"),t.find(".postbox-arrow2").html("-")):(t.parent().find(".toggled-content").slideUp(300),t.addClass("tpa-closed").addClass("box_closed"),t.find(".postbox-arrow2").html("+"))}),e(".mw960").each(function(){var t=e("#divLayers").width();t<960&&(t=960),e(this).css({maxWidth:t+"px"})}),e("#button_sort_depth").on("click",function(){e(".layer_sortbox").addClass("depthselected"),e(".layer_sortbox").removeClass("timeselected")}),e("#button_sort_time").on("click",function(){e(".layer_sortbox").removeClass("depthselected"),e(".layer_sortbox").addClass("timeselected")}),e("#link_add_slide").click(function(){var t={sliderid:r};e("#loader_add_slide").show(),i.ajaxRequest("add_slide_fromslideview",t)}),e("#link_add_bulk_slide").click(function(){i.openAddImageDialog(s.add_bulk_slides,function(e){var t={sliderid:r,obj:e};i.ajaxRequest("add_bulk_slide",t)},!0)}),e("body").on("click",".add_template_slide_item, .add_user_template_slide_item",function(){if(confirm(s.unsaved_data_will_be_lost_proceed)){var t={slider_id:r};t.slide_id=e(this).data("slideid"),t.redirect_id=n?"static_"+r:a,i.ajaxRequest("copy_slide_to_slider",t,function(){e("#close-template").click()})}}),e("body").on("click",".delete_user_template_slide_item",function(){if(confirm(s.delete_user_slide)){var t={slider_id:r};t.slide_id=e(this).data("slideid"),e(this).closest(".template_group_wrappers").remove(),i.ajaxRequest("delete_template_slide",t,function(){})}}),e("#button_save_slide").click(function(){p.saveEditSlide(a),o.set_save_needed(!1)}),e("#button_save_slide-tb").click(function(){p.saveEditSlide(a),o.set_save_needed(!1)}),e("#button_save_static_slide").click(function(){p.saveEditSlide(a,!0),o.set_save_needed(!1)}),e("#button_save_static_slide-tb").click(function(){p.saveEditSlide(a,!0),o.set_save_needed(!1)}),e("#button_change_image").click(function(){i.openAddImageDialog(s.select_slide_img,function(t,i){null==i&&(i=""),e("#divbgholder").css("background-image","url("+t+")"),e("#slide_selector .list_slide_links li.selected .slide-media-container ").css("background-image","url("+t+")"),e("#image_url").val(t),e("#image_id").val(i),o.changeSlotBGs(),e(".bgsrcchanger:checked").click(),e('input[name="kenburn_effect"]').is(":checked")&&e('input[name="kb_start_fit"]').change()})}),e(".button_change_video").click(function(){var t=e(this).data("inptarget");e(".ui-dialog.ui-widget:visible,.ui-widget-overlay:visible").addClass("temporaryHidden").hide(),i.openAddVideoDialog(s.select_slide_video,function(i,a){e(".temporaryHidden").removeClass("temporaryHidden").show(),e('input[name="'+t+'"]').val(i),e("#"+t).trigger("change")})}),e("#link_hide_options").click(function(){1==e("#slide_params_holder").is(":visible")?(e("#slide_params_holder").hide("slow"),e(this).text(s.show_slide_opt).addClass("link-selected")):(e("#slide_params_holder").show("slow"),e(this).text(s.hide_slide_opt).removeClass("link-selected"))}),e("#button_preview_slide").click(function(){I(a,!0)}),e("#button_preview_slide-tb").click(function(){I(a,!0)}),e("#radio_back_image, #radio_back_trans, #radio_back_solid, #radio_back_external, #radio_back_youtube, #radio_back_htmlvideo").click(function(){var t=e("#background_type").val(),i=e(this).data("bgtype");if(t==i)return!0;"image"==i?e("#button_change_image").removeClass("button-disabled"):e("#button_change_external").addClass("button-disabled"),"solid"==i?e("#slide_bg_color").removeClass("disabled").prop("disabled",""):e("#slide_bg_color").addClass("disabled").prop("disabled","disabled"),"external"==i?(e("#slide_bg_external").removeClass("disabled").prop("disabled",""),e("#button_change_image").removeClass("button-disabled"),e("#button_change_external").removeClass("button-disabled")):(e("#slide_bg_external").addClass("disabled").prop("disabled","disabled"),e("#button_change_external").addClass("button-disabled")),e("#background_type").val(i),D(i)}),e("#button_change_external").click(function(){var t=e("#radio_back_external:checked").data("bgtype");"external"==t&&(e("#slide_bg_external").removeClass("disabled").prop("disabled",""),e("#button_change_image").removeClass("button-disabled"),D(t),e('input[name="kenburn_effect"]').is(":checked")&&e('input[name="kb_start_fit"]').change(),o.changeSlotBGs())}),i.setColorPickerCallback(function(){if("solid"==e("#background_type").val()){var t=e("#slide_bg_color").val();e("#divbgholder").css("background-color",t),e("#slide_selector .list_slide_links li.selected .slide-media-container ").css({backgroundColor:t})}}),e("#title").on("input",function(t){e(".slide_title").text(e("#title").val())}),e(".list_slide_links").sortable({items:"li:not(.eg-drag-disabled)",update:function(){c(r)}});var c=function(t){var a=e(".list_slide_links").sortable("toArray"),s=[];e(a).each(function(e,t){var i=t.replace("slidelist_item_","");s.push(i)});var l={arrIDs:s,sliderID:t};e("#loader_add_slide").show(),i.ajaxRequest("update_slides_order",l,function(){e("#loader_add_slide").hide()})};e(".inputDatePicker").datepicker({dateFormat:"dd-mm-yy 00:00"}),e("#button_delete_slide").click(function(){var e={slideID:a,sliderID:r};if(0==confirm(g_messageDeleteSlide))return!1;i.ajaxRequest("delete_slide",e)}),"false"==e('input[name="load_googlefont"]:checked').val()&&(e("#load_googlefont_row").siblings(".spanSettingsStaticText").remove(),e("#load_googlefont_row").remove(),e("#google_font_row").remove(),e("#load_googlefont").closest(".postbox.unite-postbox").hide()),e("body").on("click",".slide-remove",function(){var t=e(this).closest("li").attr("id").replace("slidelist_item_",""),a={slideID:t,sliderID:r};if(0==confirm("Delete this slide?"))return!1;var s=e(this),l=s.siblings(".loader_delete");s.hide(),l.show();var o=e(this).closest("li"),n=curSlideID==t?"delete_slide":"delete_slide_stay";i.ajaxRequest(n,a,function(e){o.remove()})}),e("body").on("click",".slide-published.pubclickable, .slide-unpublished.pubclickable",function(){var t=e(this).closest("li"),a=t.attr("id").replace("slidelist_item_",""),s={slider_id:r,slide_id:a};return objButton=e(this),t.find(".slide-published").fadeOut(200),t.find(".slide-unpublished").fadeOut(200),i.ajaxRequest("toggle_slide_state",s,function(i){"published"==i.state?(t.find(".slide-published").removeClass("pubclickable").fadeIn(200),t.find(".slide-unpublished").addClass("pubclickable").fadeIn(200),curSlideID==a&&e('select[name="state"] option[value="published"]').attr("selected",!0)):(t.find(".slide-published").addClass("pubclickable").fadeIn(200),t.find(".slide-unpublished").removeClass("pubclickable").fadeIn(200),curSlideID==a&&e('select[name="state"] option[value="unpublished"]').attr("selected",!0))}),!1}),e("body").on("click",".slide-hero-unpublished.pubclickable",function(){var t=e(this).closest("li"),a=e(this).closest("ul"),s=t.attr("id").replace("slidelist_item_",""),l={slider_id:r,slide_id:s};return objButton=e(this),i.ajaxRequest("toggle_hero_slide",l,function(e){a.find(".slide-hero-published").removeClass("slide-hero-published").addClass("slide-hero-unpublished").addClass("pubclickable"),t.find(".slide-hero-unpublished").removeClass("pubclickable").removeClass("slide-hero-unpublished").addClass("slide-hero-published")}),!1}),e("body").on("click",".slide-duplicate",function(){var t=e(this).closest("li"),a=t.attr("id").replace("slidelist_item_",""),l=e(this);l.hide();var o={slideID:a,sliderID:r};i.ajaxRequest("duplicate_slide_stay",o,function(i){if(l.show(),1==i.success){var o=t.clone(!0).insertAfter(t);o.attr("id","slidelist_item_"+i.id),o.hasClass("selected")&&(o.removeClass("selected"),e('<a href="#" class="slide-link-toolbar-button slide-moveto"><span class=""><i class="eg-icon-forward"></i><span>'+s.copy_move+"</span></span></a>").insertAfter(o.find(".slide-remove")));var r=o.find("a").first().attr("href");r="javascript:void(0)"==r?"?page=revslider&view=slide&id="+i.id:r.replace("id="+a,"id="+i.id),o.find("a").first().attr("href",r);var n=0;e(".list_slide_links li").each(function(){e(this).find(".slide-link-nr").text("#"+n),n++})}})}),e("body").on("click",".slide-moveto",function(){var t=e(this).closest("li"),a=e(this),s=e("#dialog_copy_move"),l=(s.data("textclose"),s.data("textupdate")),o=(a=e(this),{});o[l]=function(){var s=t.attr("id").replace("slidelist_item_",""),l=e("#selectSliders").val(),o="copy";(e("#radio_move").prop("checked")||1==e("#radio_move").prop("checked"))&&(o="move");var n={slideID:s,sliderID:r,targetSliderID:l,operation:o};a.siblings(".loader_copy");a.hide(),i.ajaxRequest("copy_move_slide_stay",n,function(e){a.show(),"move"==o&&t.remove()}),e(this).dialog("close")},e("#dialog_copy_move").dialog({modal:!0,resizable:!1,width:400,height:300,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(t){e(t.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:o})}),e("body").on("click",".slide-add-as-template",function(){if(confirm(s.unsaved_changes_will_not_be_added)){var t=e(this).closest("li"),a=prompt(s.please_enter_a_slide_title,t.find(".slidetitleinput").val()),l=e('input[name="rs-grid-width"]').val(),o=e('input[name="rs-grid-height"]').val(),r=t.attr("id").replace("slidelist_item_",""),n={width:l,height:o};if(null!=a){var d=e(this);d.hide();var c={slideID:r,title:a,settings:n};i.ajaxRequest("add_slide_to_template",c,function(t){d.show(),e("#template_area").replaceWith(t.HTML),templateSelectorHandling()})}}}),e("#rev_lang_list").delegate(".icon_slide_lang, .icon_slide_lang_add","click",function(t){t.stopPropagation();var a=i.getAbsolutePos(this),s=a[0]-135,l=a[1]-60,o=e(this),r=o.data("operation"),n=o.data("isparent");"add"==r?e("#langs_float_wrapper .item_operation").hide():(e("#langs_float_wrapper .item_operation").show(),1==n&&e("#langs_float_wrapper .item_operation.operation_delete").hide());var d=o.parents(".list_slide_icons");j(d,r),e("#langs_float_wrapper").show().css({left:s,top:l}),e("#langs_float_wrapper").data("iconid",this.id)}),e("body").click(function(){e("#langs_float_wrapper").hide()}),e("#slides_langs_float li a").click(function(){var t=e(this),a=t.data("lang"),s=e("#langs_float_wrapper").data("iconid");if(!s)return!0;var l=e("#"+s),o=l.parents(".list_slide_icons"),n=t.data("operation");null!=n&&n||(n=l.data("operation")),null!=n&&n||(n="update");var d=l.data("lang"),c=l.data("slideid"),_=l.data("origid");if(d==a)return!0;if("preview"!=n&&(l.siblings(".icon_lang_loader").show(),l.hide()),"edit"==n){var p=g_patternViewSlide.replace("[slideid]",c);return location.href=p,!0}if("preview"==n)return C(r),!0;"delete"!=n&&"update"!=n||(_=c);var u={sliderid:r,slideid:_,lang:a,operation:n};i.ajaxRequest("slide_lang_operation",u,function(e){switch(l.siblings(".icon_lang_loader").hide(),e.operation){case"update":l.attr("src",e.url_icon),l.attr("title",e.title),l.data("lang",a),l.show();break;case"add":l.show(),l.parent().before(e.html),1==e.isAll&&o.find(".icon_slide_lang_add").hide();break;case"delete":l.parent().remove(),o.find(".icon_slide_lang_add").show()}})}),e(".tp-moderncheckbox").each(function(){t.onoffStatus(e(this))}),t.onoffStatus(e('input[name="hideslideonmobile"]')),t.onoffStatus(e('input[name="stream_do_cover"]')),t.onoffStatus(e('input[name="stream_do_cover_both"]')),t.onoffStatus(e('input[name="kenburn_effect"]')),t.onoffStatus(e('input[name="save_performance"]')),t.onoffStatus(e('input[name="video_force_cover"]')),t.onoffStatus(e('input[name="video_nextslide"]')),t.onoffStatus(e('input[name="video_allowfullscreen"]')),t.onoffStatus(e('input[name="video_force_rewind"]')),t.onoffStatus(e('input[name="video_mute"]')),t.onoffStatus(e('input[name="thumb_for_admin"]')),e("#video_force_cover").change(function(){e(this).is(":checked")?e("#video_dotted_overlay_wrap").show():e("#video_dotted_overlay_wrap").hide()}),e("#video_force_cover").change()};var I=function(a,s){void 0===s&&(s=!0);var l=e("#rs-preview-form"),r={slideid:a};if(1==s){r.params=t.getSettingsObject("form_slide_params"),r.params.slide_bg_color=e("#slide_bg_color").val(),r.params.slide_bg_external=e("#slide_bg_external").val(),r.params.bg_fit=e("#slide_bg_fit").val(),r.params.bg_fit_x=e("input[name='bg_fit_x']").val(),r.params.bg_fit_y=e("input[name='bg_fit_y']").val(),r.params.bg_repeat=e("#slide_bg_repeat").val(),r.params.bg_position=e("#slide_bg_position").val(),r.params.bg_position_x=e("input[name='bg_position_x']").val(),r.params.bg_position_y=e("input[name='bg_position_y']").val(),r.params.bg_end_position_x=e("input[name='bg_end_position_x']").val(),r.params.bg_end_position_y=e("input[name='bg_end_position_y']").val(),r.params.kenburn_effect=e("input[name='kenburn_effect']").is(":checked")?"on":"off",r.params.kb_start_fit=e("input[name='kb_start_fit']").val(),r.params.kb_end_fit=e("input[name='kb_end_fit']").val(),r.params.bg_end_position=e("select[name='bg_end_position']").val(),r.params.kb_duration=e("input[name='kb_duration']").val(),r.params.kb_easing=e("select[name='kb_easing']").val();var n=o.getLayers(),d={};for(key in n)n.hasOwnProperty(key)&&!0!==n[key].layer_unavailable&&!0!==n[key].deleted&&(d[key]=i.duplicateObject(n[key]),void 0!==d[key].layer_unavailable&&delete d[key].layer_unavailable,void 0!==d[key].deleted&&delete d[key].deleted,void 0!==d[key].references&&delete d[key].references,void 0!==d[key].createdOnInit&&delete d[key].createdOnInit);r.layers=d}var c=JSON.stringify(r);e("#preview-slide-data").val(c),e("#rs-client-action").val("preview_slide"),l.submit(),e("#rs-preview-wrapper").show(),e(window).trigger("resize")},D=function(t){switch(t){case"image":var i=e("#image_url").val();e("#divbgholder").css("background-image","url('"+i+"')"),e("#divbgholder").css("background-color","transparent"),e("#divbgholder").removeClass("trans_bg"),e('input[name="kenburn_effect"]').is(":checked")&&e('input[name="kb_start_fit"]').change();break;case"trans":e("#divbgholder").css("background-image","none"),e("#divbgholder").css("background-color","transparent"),e("#divbgholder").addClass("trans_bg");break;case"solid":e("#divbgholder").css("background-image","none"),e("#divbgholder").removeClass("trans_bg");var a=e("#slide_bg_color").val();e("#divbgholder").css("background-color",a),e("#slide_selector .list_slide_links li.selected .slide-media-container ").css({backgroundColor:a});break;case"external":i=e("#slide_bg_external").val();e("#divbgholder").css("background-image","url('"+i+"')"),e("#divbgholder").css("background-color","transparent"),e("#divbgholder").removeClass("trans_bg"),e('input[name="kenburn_effect"]').is(":checked")&&e('input[name="kb_start_fit"]').change();break;case"youtube":case"html5":i=e("#image_url").val();e("#divbgholder").css("background-image","url('"+i+"')"),e("#divbgholder").css("background-color","transparent"),e("#divbgholder").removeClass("trans_bg")}},q=function(){var t=new Object;return t.bg_fit=e("#slide_bg_fit").val(),"percentage"==t.bg_fit&&(t.bg_fit_x=e('input[name="bg_fit_x"]').val(),t.bg_fit_y=e('input[name="bg_fit_y"]').val()),t.bg_position=e("#slide_bg_position").val(),"percentage"==t.bg_position&&(t.bg_position_x=e('input[name="bg_position_x"]').val(),t.bg_position_y=e('input[name="bg_position_y"]').val()),t.bg_end_position=e("#slide_bg_end_position").val(),"percentage"==t.bg_end_position&&(t.bg_end_position_x=e('input[name="bg_end_position_x"]').val(),t.bg_end_position_y=e('input[name="bg_end_position_y"]').val()),t.bg_repeat=e("#slide_bg_repeat").val(),t},R=null,O=null,z=null,E=null,A=null;p.setStaticCssCaptionsUrl=function(e){A=e},p.getUrlStaticCssCaptions=function(){return A},p.initGlobalStyles=function(){P(),B()},p.setCodeMirrorStaticEditor=function(){O=a.fromTextArea(document.getElementById("textarea_edit_static"),{lineNumbers:!0})},p.setCodeMirrorSliderEditor=function(){z=a.fromTextArea(document.getElementById("textarea_show_slider_styles"),{lineNumbers:!0})},p.setCodeMirrorSliderEditorJS=function(){E=a.fromTextArea(document.getElementById("textarea_show_slider_javascript"),{lineNumbers:!0})},p.setCodeMirrorDynamicEditor=function(){null!=document.getElementById("textarea_show_dynamic_styles")&&(R=a.fromTextArea(document.getElementById("textarea_show_dynamic_styles"),{lineNumbers:!0,readOnly:!0}))};var P=function(){e("#css-static-accordion").accordion({heightStyle:"content",activate:function(e,t){null!=z&&z.refresh(),null!=E&&E.refresh(),null!=O&&O.refresh(),null!=R&&R.refresh()}})},B=function(){e("#button_edit_css_global").click(function(){e("#css-static-accordion").accordion({active:1}),i.ajaxRequest("get_slider_custom_css_js",{slider_id:curSliderID},function(t){var i=t.css,a=t.js;null!=z?z.setValue(i):(e("#textarea_show_slider_styles").val(i),setTimeout(function(){_.setCodeMirrorSliderEditor()},500)),null!=E?E.setValue(a):(e("#textarea_show_slider_javascript").val(a),setTimeout(function(){_.setCodeMirrorSliderEditorJS()},500))},!1),i.ajaxRequest("get_static_css","",function(t){var i=t.data;null!=O?O.setValue(i):(e("#textarea_edit_static").val(i),setTimeout(function(){_.setCodeMirrorStaticEditor()},500))}),i.ajaxRequest("get_dynamic_css","",function(t){var i=t.data;null!=R?R.setValue(i):(e("#textarea_show_dynamic_styles").val(i),setTimeout(function(){_.setCodeMirrorDynamicEditor()},500))}),e("#css_slider_editor_wrap").dialog({modal:!0,dialogClass:"tpdialogs",resizable:!1,minWidth:1024,minHeight:500,closeOnEscape:!0,create:function(e){},open:function(){e(this).closest(".ui-dialog").addClass("tp-css-editor-dialog"),e(this).closest(".ui-dialog").find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Save:function(){var t={};t.css=null!=z?z.getValue():e("#textarea_show_slider_styles").val(),t.js=null!=E?E.getValue():e("#textarea_show_slider_javascript").val(),t.slider_id=curSliderID,i.ajaxRequest("update_slider_custom_css_js",t,function(e){}),e(this).dialog("close")}}})}),e(".show_global_styles").click(function(){P(),e("#css_static_editor_wrap").dialog({modal:!0,resizable:!1,minWidth:1224,minHeight:600,closeOnEscape:!0,dialogClass:"tpdialogs tp-css-editor-dialog tp-depricated-dialog",buttons:{"Empty Global Styles":function(){if(!confirm(s.really_clear_global_styles))return!1;data="",i.ajaxRequest("update_static_css",data,function(t){null!=O?O.setValue(""):e("#textarea_edit_static").val("")})},Cancel:function(){e(this).dialog("close")}}})})}};return _});