require(["jquery","themepunchTools"],function(e,i){"use strict";var t=jQuery.fn.revolution,a={alias:"Carousel Min JS",name:"revolution.extensions.carousel.min.js",min_core:"5.3.0",version:"1.2.1"};jQuery.extend(!0,t,{prepareCarousel:function(e,i,s,n){if("stop"===t.compare_version(a).check)return!1;s=e.carousel.lastdirection=l(s,e.carousel.lastdirection),o(e),e.carousel.slide_offset_target=f(e),void 0!==n?r(e,s,!1,0):void 0==i?t.carouselToEvalPosition(e,s):r(e,s,!1)},carouselToEvalPosition:function(e,i){var a=e.carousel;i=a.lastdirection=l(i,a.lastdirection);var s="center"===a.horizontal_align?(a.wrapwidth/2-a.slide_width/2-a.slide_globaloffset)/a.slide_width:(0-a.slide_globaloffset)/a.slide_width,o=t.simp(s,e.slideamount,!1),n=o-Math.floor(o),d=0,f=-1*(Math.ceil(o)-o),h=-1*(Math.floor(o)-o);d=n>=.3&&"left"===i||n>=.7&&"right"===i?f:n<.3&&"left"===i||n<.7&&"right"===i?h:d,d="off"===a.infinity?o<0?o:s>e.slideamount-1?s-(e.slideamount-1):d:d,a.slide_offset_target=d*a.slide_width,0!==Math.abs(a.slide_offset_target)?r(e,i,!0):t.organiseCarousel(e,i)},organiseCarousel:function(e,t,a,s){t=void 0===t||"down"==t||"up"==t||null===t||jQuery.isEmptyObject(t)?"left":t;for(var o=e.carousel,l=new Array,r=o.slides.length,n=("right"===o.horizontal_align&&e.width,0);n<r;n++){var d=n*o.slide_width+o.slide_offset;"on"===o.infinity&&(d=(d=d>o.wrapwidth-o.inneroffset&&"right"==t?o.slide_offset-(o.slides.length-n)*o.slide_width:d)<0-o.inneroffset-o.slide_width&&"left"==t?d+o.maxwidth:d),l[n]=d}var f=999;o.slides&&jQuery.each(o.slides,function(s,n){var d=l[s];"on"===o.infinity&&(d=(d=d>o.wrapwidth-o.inneroffset&&"left"===t?l[0]-(r-s)*o.slide_width:d)<0-o.inneroffset-o.slide_width?"left"==t?d+o.maxwidth:"right"===t?l[r-1]+(s+1)*o.slide_width:d:d);var h=new Object;h.left=d+o.inneroffset;var w="center"===o.horizontal_align?(Math.abs(o.wrapwidth/2)-(h.left+o.slide_width/2))/o.slide_width:(o.inneroffset-h.left)/o.slide_width,c="center"===o.horizontal_align?2:1;if((a&&Math.abs(w)<f||0===w)&&(f=Math.abs(w),o.focused=s),h.width=o.slide_width,h.x=0,h.transformPerspective=1200,h.transformOrigin="50% "+o.vertical_align,"on"===o.fadeout)if("on"===o.vary_fade)h.autoAlpha=1-Math.abs(1/Math.ceil(o.maxVisibleItems/c)*w);else switch(o.horizontal_align){case"center":h.autoAlpha=Math.abs(w)<Math.ceil(o.maxVisibleItems/c-1)?1:1-(Math.abs(w)-Math.floor(Math.abs(w)));break;case"left":h.autoAlpha=w<1&&w>0?1-w:Math.abs(w)>o.maxVisibleItems-1?1-(Math.abs(w)-(o.maxVisibleItems-1)):1;break;case"right":h.autoAlpha=w>-1&&w<0?1-Math.abs(w):w>o.maxVisibleItems-1?1-(Math.abs(w)-(o.maxVisibleItems-1)):1}else h.autoAlpha=Math.abs(w)<Math.ceil(o.maxVisibleItems/c)?1:0;if(void 0!==o.minScale&&o.minScale>0)if("on"===o.vary_scale){h.scale=1-Math.abs(o.minScale/100/Math.ceil(o.maxVisibleItems/c)*w);o.slide_width,o.slide_width,h.scale,Math.abs(w)}else{h.scale=w>=1||w<=-1?1-o.minScale/100:(100-o.minScale*Math.abs(w))/100;o.slide_width,o.slide_width,o.minScale,Math.abs(w)}void 0!==o.maxRotation&&0!=Math.abs(o.maxRotation)&&("on"===o.vary_rotation?(h.rotationY=Math.abs(o.maxRotation)-Math.abs((1-Math.abs(1/Math.ceil(o.maxVisibleItems/c)*w))*o.maxRotation),h.autoAlpha=Math.abs(h.rotationY)>90?0:h.autoAlpha):h.rotationY=w>=1||w<=-1?o.maxRotation:Math.abs(w)*o.maxRotation,h.rotationY=w<0?-1*h.rotationY:h.rotationY),h.x=-1*o.space*w,h.left=Math.floor(h.left),h.x=Math.floor(h.x),h.scale,h.x,h.zIndex=Math.round(100-Math.abs(5*w)),h.transformStyle="3D"!=e.parallax.type&&"3d"!=e.parallax.type?"flat":"preserve-3d",i.TweenLite.set(n,h)}),s&&(e.c.find(".next-revslide").removeClass("next-revslide"),jQuery(o.slides[o.focused]).addClass("next-revslide"),e.c.trigger("revolution.nextslide.waiting"));o.wrapwidth,o.slide_offset,o.maxwidth,o.slide_offset,o.wrapwidth}});var s=function(e){var t=e.carousel;t.infbackup=t.infinity,t.maxVisiblebackup=t.maxVisibleItems,t.slide_globaloffset="none",t.slide_offset=0,t.wrap=e.c.find(".tp-carousel-wrapper"),t.slides=e.c.find(".tp-revslider-slidesli"),0!==t.maxRotation&&("3D"!=e.parallax.type&&"3d"!=e.parallax.type?i.TweenLite.set(t.wrap,{perspective:1200,transformStyle:"flat"}):i.TweenLite.set(t.wrap,{perspective:1600,transformStyle:"preserve-3d"})),void 0!==t.border_radius&&parseInt(t.border_radius,0)>0&&i.TweenLite.set(e.c.find(".tp-revslider-slidesli"),{borderRadius:t.border_radius})},o=function(e){void 0===e.bw&&t.setSize(e);var a=e.carousel,o=t.getHorizontalOffset(e.c,"left"),l=t.getHorizontalOffset(e.c,"right");void 0===a.wrap&&s(e),a.slide_width="on"!==a.stretch?e.gridwidth[e.curWinRange]*e.bw:e.c.width(),a.maxwidth=e.slideamount*a.slide_width,a.maxVisiblebackup>a.slides.length+1&&(a.maxVisibleItems=a.slides.length+2),a.wrapwidth=a.maxVisibleItems*a.slide_width+(a.maxVisibleItems-1)*a.space,a.wrapwidth="auto"!=e.sliderLayout?a.wrapwidth>e.c.closest(".tp-simpleresponsive").width()?e.c.closest(".tp-simpleresponsive").width():a.wrapwidth:a.wrapwidth>e.ul.width()?e.ul.width():a.wrapwidth,a.infinity=a.wrapwidth>=a.maxwidth?"off":a.infbackup,a.wrapoffset="center"===a.horizontal_align?(e.c.width()-l-o-a.wrapwidth)/2:0,a.wrapoffset="auto"!=e.sliderLayout&&e.outernav?0:a.wrapoffset<o?o:a.wrapoffset;var r="hidden";"3D"!=e.parallax.type&&"3d"!=e.parallax.type||(r="visible"),"right"===a.horizontal_align?i.TweenLite.set(a.wrap,{left:"auto",right:a.wrapoffset+"px",width:a.wrapwidth,overflow:r}):i.TweenLite.set(a.wrap,{right:"auto",left:a.wrapoffset+"px",width:a.wrapwidth,overflow:r}),a.inneroffset="right"===a.horizontal_align?a.wrapwidth-a.slide_width:0,a.realoffset=Math.abs(a.wrap.position().left),a.windhalf=jQuery(window).width()/2},l=function(e,i){return null===e||jQuery.isEmptyObject(e)?i:void 0===e?"right":e},r=function(e,a,s,o){var r=e.carousel;a=r.lastdirection=l(a,r.lastdirection);var n=new Object,d=s?i.Power2.easeOut:r.easing;n.from=0,n.to=r.slide_offset_target,o=void 0===o?r.speed/1e3:o,o=s?.4:o,void 0!==r.positionanim&&r.positionanim.pause(),r.positionanim=i.TweenLite.to(n,o,{from:n.to,onUpdate:function(){r.slide_offset=r.slide_globaloffset+n.from,r.slide_offset=t.simp(r.slide_offset,r.maxwidth),t.organiseCarousel(e,a,!1,!1)},onComplete:function(){r.slide_globaloffset="off"===r.infinity?r.slide_globaloffset+r.slide_offset_target:t.simp(r.slide_globaloffset+r.slide_offset_target,r.maxwidth),r.slide_offset=t.simp(r.slide_offset,r.maxwidth),t.organiseCarousel(e,a,!1,!0);var i=jQuery(e.li[r.focused]);e.c.find(".next-revslide").removeClass("next-revslide"),s&&t.callingNewSlide(e.c,i.data("index"))},ease:d})},n=function(e,i){return Math.abs(e)>Math.abs(i)?e>0?e-Math.abs(Math.floor(e/i)*i):e+Math.abs(Math.floor(e/i)*i):e},d=function(e,i,t){var t,a=i-e,s=i-t-e;return a=n(a,t),s=n(s,t),Math.abs(a)>Math.abs(s)?s:a},f=function(e){var i=0,a=e.carousel;if(void 0!==a.positionanim&&a.positionanim.kill(),"none"==a.slide_globaloffset)a.slide_globaloffset=i="center"===a.horizontal_align?a.wrapwidth/2-a.slide_width/2:0;else{a.slide_globaloffset=a.slide_offset,a.slide_offset=0;var s=e.c.find(".processing-revslide").index(),o="center"===a.horizontal_align?(a.wrapwidth/2-a.slide_width/2-a.slide_globaloffset)/a.slide_width:(0-a.slide_globaloffset)/a.slide_width;o=t.simp(o,e.slideamount,!1),s=(s=s>=0?s:e.c.find(".active-revslide").index())>=0?s:0,i="off"===a.infinity?o-s:-d(o,s,e.slideamount),i*=a.slide_width}return i}});